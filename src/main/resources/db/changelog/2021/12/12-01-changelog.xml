<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.5.xsd"
        objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    <changeSet id="1639260080780-41" author="roman (generated)">
        <addPrimaryKey columnNames="deal_id, product_id" constraintName="pk_deal_product" tableName="deal_product"/>
    </changeSet>
    <changeSet id="1639260080780-42" author="roman (generated)">
        <addForeignKeyConstraint baseColumnNames="fk_id_sostav_lead" baseTableName="activity"
                                 constraintName="FK_ACTIVITY_ON_FK_ID_SOSTAV_LEAD" referencedColumnNames="id"
                                 referencedTableName="sostav_lead"/>
    </changeSet>
    <changeSet id="1639260080780-43" author="roman (generated)">
        <addForeignKeyConstraint baseColumnNames="fk_id_lead" baseTableName="orders"
                                 constraintName="FK_ORDERS_ON_FK_ID_LEAD" referencedColumnNames="id"
                                 referencedTableName="lead"/>
    </changeSet>
    <changeSet id="1639260080780-1" author="roman (generated)">
        <dropColumn columnName="address" tableName="contact"/>

        <dropColumn columnName="company" tableName="contact"/>

        <dropColumn columnName="lastname" tableName="contact"/>

        <dropColumn columnName="name" tableName="contact"/>

        <dropColumn columnName="post" tableName="contact"/>

        <dropColumn columnName="surname" tableName="contact"/>
    </changeSet>
    <changeSet id="1639260080780-2" author="roman (generated)">
        <addColumn tableName="contact">
            <column name="address" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-4" author="roman (generated)">
        <addColumn tableName="contact">
            <column name="company" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-5" author="roman (generated)">
        <dropColumn columnName="description" tableName="activity"/>

        <dropColumn columnName="state" tableName="activity"/>

        <dropColumn columnName="title" tableName="activity"/>
    </changeSet>
    <changeSet id="1639260080780-6" author="roman (generated)">
        <addColumn tableName="activity">
            <column name="description" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-7" author="roman (generated)">
        <dropColumn columnName="description" tableName="product"/>

        <dropColumn columnName="name" tableName="product"/>
    </changeSet>
    <changeSet id="1639260080780-8" author="roman (generated)">
        <addColumn tableName="product">
            <column name="description" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-10" author="roman (generated)">
        <addColumn tableName="contact">
            <column name="lastname" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-11" author="roman (generated)">
        <dropColumn columnName="lastname" tableName="manager"/>

        <dropColumn columnName="name" tableName="manager"/>

        <dropColumn columnName="phone" tableName="manager"/>

        <dropColumn columnName="surname" tableName="manager"/>
    </changeSet>
    <changeSet id="1639260080780-12" author="roman (generated)">
        <addColumn tableName="manager">
            <column name="lastname" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-14" author="roman (generated)">
        <addColumn tableName="contact">
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-16" author="roman (generated)">
        <addColumn tableName="manager">
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-18" author="roman (generated)">
        <addColumn tableName="product">
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-19" author="roman (generated)">
        <dropColumn columnName="origin" tableName="orders"/>
    </changeSet>
    <changeSet id="1639260080780-20" author="roman (generated)">
        <addColumn tableName="orders">
            <column name="origin" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-22" author="roman (generated)">
        <addColumn tableName="manager">
            <column name="phone" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-24" author="roman (generated)">
        <addColumn tableName="contact">
            <column name="post" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-26" author="roman (generated)">
        <addColumn tableName="activity">
            <column name="state" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-27" author="roman (generated)">
        <dropColumn columnName="state" tableName="lead"/>

        <dropColumn columnName="title" tableName="lead"/>
    </changeSet>
    <changeSet id="1639260080780-28" author="roman (generated)">
        <addColumn tableName="lead">
            <column name="state" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-30" author="roman (generated)">
        <addColumn tableName="contact">
            <column name="surname" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-32" author="roman (generated)">
        <addColumn tableName="manager">
            <column name="surname" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-34" author="roman (generated)">
        <addColumn tableName="activity">
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-35" author="roman (generated)">
        <dropColumn columnName="title" tableName="deal"/>
    </changeSet>
    <changeSet id="1639260080780-36" author="roman (generated)">
        <addColumn tableName="deal">
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-37" author="roman (generated)">
        <dropColumn columnName="title" tableName="dogovor"/>
    </changeSet>
    <changeSet id="1639260080780-38" author="roman (generated)">
        <addColumn tableName="dogovor">
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1639260080780-40" author="roman (generated)">
        <addColumn tableName="lead">
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>

</databaseChangeLog>